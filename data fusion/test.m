% minChannel = zeros(60,14);
% for i=1:14
%    t = totalweight(:,:,i);
%    t = t';
%    [~,v] = min(t);
%    minChannel(:,i) = v;
% end

[eeg,label] = extractdata(dirs{6});
eeg = eeg(:,1:256*8,:);
d = zeros(3,256*8,60);
for i=1:60
    d(:,:,i) = eeg([1,3,2],:,i);
end
% d(:,:,1) = eeg([1,3,4],:,1);
% for i=3:8
%      d(:,:,i) = eeg([1,3,4],:,i);
% end
% d(:,:,10) = eeg([1,3,4],:,10);
%  d(:,:,12) = eeg([1,3,4],:,12);
%  d(:,:,13) = eeg([1,3,4],:,13);
%  d(:,:,14) = eeg([1,2,3],:,14);
%  d(:,:,17) = eeg([1,2,3],:,17);
%   d(:,:,18) = eeg([1,3,4],:,18);
%  d(:,:,19) = eeg([1,3,4],:,19);
%  d(:,:,22) = eeg([1,3,4],:,22);
%  d(:,:,24) = eeg([1,3,4],:,24);
%  d(:,:,25) = eeg([1,3,4],:,25);
%   d(:,:,28) = eeg([1,3,4],:,28);
%  d(:,:,30) = eeg([1,3,4],:,30);
%  d(:,:,31) = eeg([1,3,4],:,31);
%  d(:,:,32) = eeg([1,3,4],:,32);
%  d(:,:,34) = eeg([1,3,4],:,34);
%  d(:,:,35) = eeg([1,3,4],:,35);
%  d(:,:,37) = eeg([1,3,4],:,37);
%  d(:,:,38) = eeg([1,3,4],:,38);
%  d(:,:,39) = eeg([1,2,3],:,39);
%  d(:,:,41) = eeg([1,2,3],:,41);
%   d(:,:,42) = eeg([1,2,3],:,42);
%   d(:,:,43) = eeg([1,2,3],:,43);
%   d(:,:,45) = eeg([1,3,4],:,45);
%   d(:,:,51) = eeg([1,3,4],:,51);
%  d(:,:,53) = eeg([1,3,4],:,53);
%  d(:,:,55) = eeg([1,3,4],:,55);
%  d(:,:,60) = eeg([1,3,4],:,60);
%  d(:,:,50) = eeg([1,2,3],:,50);
%  d(:,:,53) = eeg([1,2,3],:,53);
%  d(:,:,54) = eeg([1,2,3],:,54);
%  d(:,:,57) = eeg([1,2,3],:,57);
%  d(:,:,59) = eeg([1,2,3],:,59);
%  d(:,:,60) = eeg([1,2,3],:,60);

% d(:,:,34) = eeg([1,2,3],:,34);
% d(:,:,37) = eeg([1,2,3],:,37);
% d(:,:,38) = eeg([1,2,3],:,38);
% d(:,:,42) = eeg([1,2,3],:,42);
% d(:,:,49) = eeg([1,2,3],:,49);
% d(:,:,50) = eeg([1,2,3],:,50);
% d(:,:,51) = eeg([1,2,3],:,51);
% d(:,:,56) = eeg([1,3,4],:,56);
% d(:,:,57) = eeg([1,3,4],:,57);
% d(:,:,58) = eeg([1,2,3],:,58);
% d(:,:,60) = eeg([1,2,3],:,60);
 [~,target] = ccabycl(d,[6,7,8,9],256);
accuracy = sum(target==label)/60;









% accuracy = zeros(14,1);
% for j=1:14
% t = totalweight(:,:,j);
% [eeg,label] = extractdata(dirs{j});
% 
% data_w = zeros(1,2560,60);
% for i=1:60
%     w_trial1 = t(i,:);
%     data_trial1 = eeg(:,:,i);
%     data_w(:,:,i) = data_trial1(1,:)*w_trial1(1) + data_trial1(2,:)* w_trial1(2) +data_trial1(3,:)*w_trial1(3) +data_trial1(4,:)*w_trial1(4) ;
% end
% [~,target] = ccabycl(data_w,[6,7,8,9],256);
% accuracy(j) = sum(target==label)/60;
% end